{"version":3,"sources":["webpack:///./src/Header.jsx?43f4"],"names":["Header","props","searchIssues","input","length","Promise","resolve","options","fetch","then","response","ok","json","error","reject","data","records","map","issue","value","_id","label","substr","title","catch","showError","filterOptions","selectIssue","item","router","push","paddingTop","user","onSignin","onSignout","showSuccess","propTypes","PropTypes","func","isRequired","object"],"mappings":"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","file":"0.be1b405c58f76d9c2c74.hot-update.js","sourcesContent":["import React from 'react';\nimport { Navbar, Nav, NavItem, Col } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { withRouter } from 'react-router';\nimport Select from 'react-select';\n\nimport IssueAddNavItem from './IssueAddNavItem.jsx';\nimport SigninNavItem from './SigninNavItem.jsx';\n\nimport withToast from './withToast.jsx';\n\nconst Header = (props) => {\n  function searchIssues(input) {\n    if (input.length < 2) return Promise.resolve({ options: [] });\n\n    return fetch(`/api/issues?search=${input}`).then(response => {\n      if (!response.ok) return response.json().then(error => Promise.reject(error));\n      return response.json().then(data => {\n        const options = data.records.map(issue => ({\n          value: issue._id,\n          label: `${issue._id.substr(-4)}: ${issue.title}`,\n        }));\n        return { options };\n      }).catch(error => {\n        this.props.showError(`Error fetching data from server: ${error}`);\n      });\n    });\n  }\n\n  function filterOptions(options) {\n    return options;\n  }\n\n  function selectIssue(item) {\n    if (item) props.router.push(`/issues/${item.value}`);\n  }\n\n  return (\n    <Navbar fluid>\n      <Col sm={5}>\n        <Navbar.Header>\n          <Navbar.Brand>Issue Tracker</Navbar.Brand>\n        </Navbar.Header>\n        <Nav>\n          <LinkContainer to=\"/issues\">\n            <NavItem>Issues</NavItem>\n          </LinkContainer>\n          <LinkContainer to=\"/reports\">\n            <NavItem>Reports</NavItem>\n          </LinkContainer>\n        </Nav>\n      </Col>\n      <Col sm={4}>\n        <div style={{ paddingTop: 8 }}>\n          <Select.Async\n            instanceId=\"search\" placeholder=\"Search ...\" autoload={false} cache={false}\n            loadOptions={searchIssues} filterOptions={filterOptions} onChange={selectIssue}\n          />\n        </div>\n      </Col>\n      <Col sm={3}>\n        <Nav pullRight>\n          <IssueAddNavItem showError={props.showError} />\n          <SigninNavItem\n            user={props.user} onSignin={props.onSignin} onSignout={props.onSignout}\n            showError={props.showError} showSuccess={props.showSuccess}\n          />\n        </Nav>\n      </Col>\n    </Navbar>\n  );\n};\n\nHeader.propTypes = {\n  showError: React.PropTypes.func.isRequired,\n  showSuccess: React.PropTypes.func.isRequired,\n  onSignin: React.PropTypes.func.isRequired,\n  onSignout: React.PropTypes.func.isRequired,\n  user: React.PropTypes.object,\n  router: React.PropTypes.object,\n};\n\nexport default withRouter(withToast(Header));\n\n\n\n// WEBPACK FOOTER //\n// ./src/Header.jsx"],"sourceRoot":""}