{"version":3,"sources":["../server/index.js"],"names":["install","appModule","require","db","server","connect","then","connection","createServer","setDb","on","app","listen","console","log","catch","error","module","hot","accept","removeListener"],"mappings":";;AACA;;;;AAEA;;AACA;;;;AAEA;;;;AAJA,2BAAiBA,OAAjB;;;AAMA,IAAIC,YAAYC,QAAQ,aAAR,CAAhB;AACA,IAAIC,EAAJ;AACA,IAAIC,MAAJ;;AAEA,qBAAYC,OAAZ,CAAoB,kCAApB,EAAwDC,IAAxD,CAA6DC,cAAc;AACzEJ,OAAKI,UAAL;AACAH,WAAS,eAAKI,YAAL,EAAT;AACAP,YAAUQ,KAAV,CAAgBN,EAAhB;AACAC,SAAOM,EAAP,CAAU,SAAV,EAAqBT,UAAUU,GAA/B;AACAP,SAAOQ,MAAP,CAAc,IAAd,EAAoB,MAAM;AACxBC,YAAQC,GAAR,CAAY,0BAAZ;AACD,GAFD;AAGD,CARD,EAQGC,KARH,CAQSC,SAAS;AAChBH,UAAQC,GAAR,CAAY,QAAZ,EAAsBE,KAAtB;AACD,CAVD;;AAYA,IAAIC,OAAOC,GAAX,EAAgB;AACdD,SAAOC,GAAP,CAAWC,MAAX,CAAkB,aAAlB,EAAiC,MAAM;AACrCf,WAAOgB,cAAP,CAAsB,SAAtB,EAAiCnB,UAAUU,GAA3C;AACAV,gBAAYC,QAAQ,aAAR,CAAZ,CAFqC,CAEG;AACxCD,cAAUQ,KAAV,CAAgBN,EAAhB;AACAC,WAAOM,EAAP,CAAU,SAAV,EAAqBT,UAAUU,GAA/B;AACD,GALD;AAMD","file":"index.js","sourcesContent":["\nimport SourceMapSupport from 'source-map-support';\nSourceMapSupport.install();\nimport 'babel-polyfill';\nimport http from 'http';\n\nimport { MongoClient } from 'mongodb';\n\nlet appModule = require('./server.js');\nlet db;\nlet server;\n\nMongoClient.connect('mongodb://localhost/issuetracker').then(connection => {\n  db = connection;\n  server = http.createServer();\n  appModule.setDb(db);\n  server.on('request', appModule.app);\n  server.listen(3000, () => {\n    console.log('App started on port 3000');\n  });\n}).catch(error => {\n  console.log('ERROR:', error);\n});\n\nif (module.hot) {\n  module.hot.accept('./server.js', () => {\n    server.removeListener('request', appModule.app);\n    appModule = require('./server.js');     // eslint-disable-line\n    appModule.setDb(db);\n    server.on('request', appModule.app);\n  });\n}\n"]}