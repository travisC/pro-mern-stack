{"version":3,"sources":["webpack:///./src/App.jsx?b0c7"],"names":["App","Component","dataFetcher","urlBase","cookie","headers","Cookie","fetch","then","response","ok","json","error","Promise","reject","data","constructor","props","context","user","initialState","state","onSignin","bind","onSignout","componentDidMount","setState","name","signedIn","render","childrenWithUser","Children","map","children","child","cloneElement","propTypes","PropTypes","object","isRequired","contextTypes"],"mappings":";;;;;;;;;;;;AAAA;;AACA;;;;AAEA;;;;;;AAEe,OAAMA,GAAN,SAAkB,gBAAMC,SAAxB,CAAkC;AAC/C,UAAOC,WAAP,OAAwC;AAAA,SAAnBC,OAAmB,QAAnBA,OAAmB;AAAA,SAAVC,MAAU,QAAVA,MAAU;;AACtC,WAAMC,UAAUD,SAAS,EAAEC,SAAS,EAAEC,QAAQF,MAAV,EAAX,EAAT,GAA2C,IAA3D;AACA,YAAOG,MAAO,GAAEJ,WAAW,EAAG,eAAvB,EAAuCE,OAAvC,EAAgDG,IAAhD,CAAqDC,YAAY;AACtE,WAAI,CAACA,SAASC,EAAd,EAAkB,OAAOD,SAASE,IAAT,GAAgBH,IAAhB,CAAqBI,SAASC,QAAQC,MAAR,CAAeF,KAAf,CAA9B,CAAP;AAClB,cAAOH,SAASE,IAAT,GAAgBH,IAAhB,CAAqBO,SAAS,EAAEf,KAAKe,IAAP,EAAT,CAArB,CAAP;AACD,MAHM,CAAP;AAID;;AAEDC,eAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAC1B,WAAMD,KAAN,EAAaC,OAAb;AACA,WAAMC,OAAOD,QAAQE,YAAR,CAAqBpB,GAArB,GAA2BkB,QAAQE,YAAR,CAAqBpB,GAAhD,GAAsD,EAAnE;AACA,UAAKqB,KAAL,GAAa;AACXF;AADW,MAAb;AAGA,UAAKG,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,UAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AACD;;AAEDE,uBAAoB;AAClBzB,SAAIE,WAAJ,CAAgB,EAAhB,EACCM,IADD,CACMO,QAAQ;AACZ,aAAMI,OAAOJ,KAAKf,GAAlB;AACA,YAAK0B,QAAL,CAAc,EAAEP,UAAF,EAAd;AACD,MAJD;AAKD;;AAEDG,YAASK,IAAT,EAAe;AACb,UAAKD,QAAL,CAAc,EAAEP,MAAM,EAAES,UAAU,IAAZ,EAAkBD,UAAlB,EAAR,EAAd;AACD;;AAEDH,eAAY;AACV,UAAKE,QAAL,CAAc,EAAEP,MAAM,EAAES,UAAU,KAAZ,EAAmBD,MAAM,EAAzB,EAAR,EAAd;AACD;;AAEDE,YAAS;AACP,WAAMC,mBAAmB,gBAAMC,QAAN,CAAeC,GAAf,CAAmB,KAAKf,KAAL,CAAWgB,QAA9B,EAAwCC,SAC/D,gBAAMC,YAAN,CAAmBD,KAAnB,EAA0B,EAAEf,MAAM,KAAKE,KAAL,CAAWF,IAAnB,EAA1B,CADuB,CAAzB;AAGA,YACE;AAAA;AAAA;AACE,yDAAQ,MAAM,KAAKE,KAAL,CAAWF,IAAzB,EAA+B,UAAU,KAAKG,QAA9C,EAAwD,WAAW,KAAKE,SAAxE,GADF;AAEE;AAAA;AAAA,WAAK,WAAU,iBAAf;AACGM,yBADH;AAEE,kDAFF;AAGE;AAAA;AAAA;AAAI;AAAA;AAAA;AAAA;AACiC;AAAA;AAAA,iBAAG,MAAK,2CAAR;AAAA;AAAA,cADjC;AAAA;AAAA;AAAJ;AAHF;AAFF,MADF;AAaD;AApD8C;;mBAA5B9B,G;AAuDrBA,KAAIoC,SAAJ,GAAgB;AACdH,aAAU,gBAAMI,SAAN,CAAgBC,MAAhB,CAAuBC;AADnB,EAAhB;;AAIAvC,KAAIwC,YAAJ,GAAmB;AACjBpB,iBAAc,gBAAMiB,SAAN,CAAgBC;AADb,EAAnB,C","file":"0.e448a67368a87707eade.hot-update.js","sourcesContent":["import 'babel-polyfill';\nimport React from 'react';\n\nimport Header from './Header.jsx';\n\nexport default class App extends React.Component {\n  static dataFetcher({ urlBase, cookie }) {\n    const headers = cookie ? { headers: { Cookie: cookie } } : null;\n    return fetch(`${urlBase || ''}/api/users/me`, headers).then(response => {\n      if (!response.ok) return response.json().then(error => Promise.reject(error));\n      return response.json().then(data => ({ App: data }));\n    });\n  }\n\n  constructor(props, context) {\n    super(props, context);\n    const user = context.initialState.App ? context.initialState.App : {};\n    this.state = {\n      user,\n    };\n    this.onSignin = this.onSignin.bind(this);\n    this.onSignout = this.onSignout.bind(this);\n  }\n\n  componentDidMount() {\n    App.dataFetcher({ })\n    .then(data => {\n      const user = data.App;\n      this.setState({ user });\n    });\n  }\n\n  onSignin(name) {\n    this.setState({ user: { signedIn: true, name } });\n  }\n\n  onSignout() {\n    this.setState({ user: { signedIn: false, name: '' } });\n  }\n\n  render() {\n    const childrenWithUser = React.Children.map(this.props.children, child =>\n      React.cloneElement(child, { user: this.state.user })\n    );\n    return (\n      <div>\n        <Header user={this.state.user} onSignin={this.onSignin} onSignout={this.onSignout} />\n        <div className=\"container-fluid\">\n          {childrenWithUser}\n          <hr />\n          <h5><small>\n            Full source code available at this <a href=\"https://github.com/vasansr/pro-mern-stack\">\n            GitHub repository</a>.\n          </small></h5>\n        </div>\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  children: React.PropTypes.object.isRequired,\n};\n\nApp.contextTypes = {\n  initialState: React.PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.jsx"],"sourceRoot":""}